# CHS-SDK 学习指南：30+章节详细大纲

---

## 第一部分：基础入门 (第1-5章)

*   **第一章：CHS-SDK 介绍** (已完成)
    *   核心价值、解决的问题、技术架构（核心版 vs 智能体版）。
*   **第二章：安装与设置** (已完成)
    *   环境搭建、安装SDK、验证安装。
*   **第三章：您的第一个仿真 - 单个水库** (已完成)
    *   核心概念（实体、连接、主机）、开环仿真、结果可视化。
*   **第四章：引入智能控制 - PID** (已完成)
    *   闭环控制概念、PID控制器智能体、连接控制回路。
*   **第五章：高级控制 - MPC** (已完成)
    *   模型预测控制基本原理、与PID对比、MPC智能体配置与使用。

---

## 第二部分：核心物理组件深度解析 (第6-15章)

*   **第六章：水力控制结构 (1) - 闸门 (Gate)**
    *   闸门的物理模型（自由出流、淹没出流）。
    *   `GateAgent` 的使用与配置。
    *   示例：使用PID控制闸门以维持上游或下游水位。
*   **第七章：水力控制结构 (2) - 水泵 (Pump)**
    *   水泵的物理模型（泵特性曲线、能耗计算）。
    *   `PumpAgent` 的使用与配置。
    *   示例：控制水泵向高处水库抽水，满足流量或水位目标。
*   **第八章：水力控制结构 (3) - 阀门 (Valve)**
    *   阀门的物理模型（流量系数、阀门开度与流量关系）。
    *   `ValveAgent` 的使用与配置。
    *   示例：在有压管道中调节阀门以控制压力或流量。
*   **第九章：水力控制结构 (4) - 水电站 (Hydropower Station)**
    *   水电站模型（水轮机模型、发电量计算）。
    *   `HydropowerStationAgent` 的使用。
    *   示例：根据调度指令或电价信号，控制水电站出力。
*   **第十章：输水系统 (1) - 明渠 (Channel)**
    *   明渠水动力学模型（圣维南方程简介）。
    *   `ChannelAgent` 或 `StVenantModel` 的使用。
    *   示例：模拟水波在梯形渠道中的传播过程。
*   **第十一章：输水系统 (2) - 有压管道 (Pipe)**
    *   有压管流模型（水锤效应简介）。
    *   `PipeAgent` 或 `PipelineModel` 的使用。
    *   示例：模拟管道系统中的压力变化。
*   **第十二章：蓄水系统 (1) - 水库与湖泊 (Reservoir & Lake)**
    *   水库的复杂模型（水位-库容-面积关系）。
    *   `ReservoirModel` 的高级用法。
    *   示例：模拟具有不规则库容曲线的水库蓄放过程。
*   **第十三章：蓄水系统 (2) - 池塘与蓄水池 (Pond & Tank)**
    *   小型蓄水体的模型特点。
    *   `TankAgent` 或 `StorageModel` 的灵活应用。
    *   示例：城市雨水花园或小型调节池的建模。
*   **第十四章：水文系统 - 流域与河流 (Watershed & River)**
    *   水文模型简介（如新安江模型）。
    *   `SubBasin` 和 `River` 相关模型的使用。
    *   示例：模拟一个简单的降雨-产流-汇流过程。
*   **第十五章：模型动物园 - 快速组装系统**
    *   介绍SDK中的“模型动物园”或组件库。
    *   如何通过配置文件（YAML/JSON）快速定义和组装一个水系统。
    *   示例：用配置文件搭建一个“一库、一闸、一渠道”的简单系统。

---

## 第三部分：核心业务流程深度解析 (第16-22章)

*   **第十六章：数据预处理与清洗**
    *   处理时间序列数据（插值、去噪）。
    *   `chs_sdk.preprocessing` 模块的使用。
    *   示例：清洗一份包含缺失值和异常值的降雨或水位数据。
*   **第十七章：系统辨识 (System Identification)**
    *   什么是系统辨识及其重要性。
    *   使用 `SystemIdentificationWorkflow` 或相关工具。
    *   示例：根据观测到的入流和水位数据，辨识水库模型的参数（如时间常数）。
*   **第十八章：状态估计与数据同化 (1) - 卡尔曼滤波 (Kalman Filter)**
    *   滤波与数据同化的基本概念。
    *   `KalmanFilter` 模块的使用。
    *   示例：将带噪声的传感器数据融合到模型中，以获得更准确的水位估计。
*   **第十九章：状态估计与数据同化 (2) - 集合卡尔曼滤波 (EnKF)**
    *   EnKF在非线性系统中的应用。
    *   相关模块的使用。
    *   示例：为复杂的水动力模型同化水位观测数据。
*   **第二十章：调度 (1) - 基于规则的调度**
    *   调度与控制的区别。
    *   `RuleBasedController` 或 `FSM` (有限状态机) 的使用。
    *   示例：实现一个“汛限水位以上开闸泄洪，正常水位以下蓄水”的调度规则。
*   **第二十一章：调度 (2) - 优化调度**
    *   将调度问题表述为优化问题。
    *   使用 `DispatchAgent` 或优化求解器。
    *   示例：求解一个水电站未来24小时的最优发电调度计划。
*   **第二十二章：结果后处理与分析**
    *   `datalogger` 的高级用法。
    *   计算和可视化关键性能指标（KPIs）。
    *   示例：评估一次仿真调度的水量平衡、供水保证率和发电效益。

---

## 第四部分：综合应用场景实战 (第23-28章)

*   **第二十三章：场景实战 - 灌区渠道水力调配**
    *   组合使用 `Reservoir`, `Gate`, `Channel` 等智能体。
    *   模拟一个干渠-支渠-斗渠系统的配水过程。
*   **第二十四章：场景实战 - 城市供水管网**
    *   组合使用 `Pump`, `Valve`, `Pipe`, `Tank` 等智能体。
    *   模拟从水源地到用户的城市供水压力和流量调控。
*   **第二十五章：场景实战 - 城市排水防涝**
    *   组合使用 `Pond`, `Pipe`, `Pump` 和水文模型。
    *   模拟一场暴雨下的城市内涝分析与排涝泵站控制。
*   **第二十六章：场景实战 - 梯级水电站群联合调度**
    *   组合使用多个 `HydropowerStationAgent` 和 `River` 模型。
    *   实现梯级水电站群的优化调度，以最大化总发电量。
*   **第二十七章：场景实战 - 流域洪水预报与防洪调度**
    *   组合使用水文、水库和河道模型。
    *   模拟从降雨预报到洪水演进，再到水库防洪调度决策的全过程。
*   **第二十八章：场景实战 - 有压-无压混合长距离调水工程**
    *   组合 `Pipe`, `Channel`, `PumpStation` 等复杂模型。
    *   模拟大型调水工程的水力特性和控制难题。

---

## 第五部分：高级主题与定制化 (第29-32章)

*   **第二十九章：性能优化**
    *   如何加速大型系统的仿真。
    *   模型简化、并行计算（如果支持）等技巧。
*   **第三十章：创建你自己的物理模型**
    *   继承 `BaseModel`，实现自定义的物理过程。
    *   示例：创建一个模拟蒸发或渗漏的自定义模型。
*   **第三十一章：创建你自己的控制智能体**
    *   继承 `BaseAgent`，实现自定义的控制逻辑。
    *   示例：创建一个基于模糊逻辑的控制器智能体。
*   **第三十二章：SDK与外部系统集成**
    *   通过API或消息队列（如MQTT）与外部数据源或平台交互。
    *   `HardwareProxy` 或类似接口的使用。
